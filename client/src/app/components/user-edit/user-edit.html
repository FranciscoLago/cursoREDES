<div class="form-container">
    <h1>{{title}}</h1>
    @if (status === 'success') {
    <div>
        Se han actualizado tus datos correctamente
    </div>
    }
    @if (status === 'error') {
    <div>
        No se han podido actualizar tus datos
    </div>
    }

    <form #userEditForm="ngForm" (ngSubmit)="onSubmit()">
        <div class="form-field">
            <label for="name">Nombre</label>
            <input type="text" id="name" name="name" #name="ngModel" [(ngModel)]="user.name" placeholder="Tu nombre"
                required>
            @if (!name.valid && name.touched) {
            <span class="form-error">El nombre es obligatorio</span>
            }
        </div>

        <div class="form-field">
            <label for="surname">Apellidos</label>
            <input type="text" id="surname" name="surname" #surname="ngModel" [(ngModel)]="user.surname"
                placeholder="Tu apellido" required>
            @if (!surname.valid && surname.touched) {
            <span class="form-error">Los apellidos son obligatorios</span>
            }
        </div>

        <div class="form-field">
            <label for="nick">Apodo</label>
            <input type="text" id="nick" name="nick" #nick="ngModel" [(ngModel)]="user.nick"
                placeholder="Tu apodo único" required>
            @if (!nick.valid && nick.touched) {
            <span class="form-error">El apodo es obligatorio</span>
            }
        </div>

        <div class="form-field">
            <label for="email">Correo Electrónico</label>
            <input type="email" id="email" name="email" #email="ngModel" [(ngModel)]="user.email"
                placeholder="tu@correo.com" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">
            @if (!email.valid && email.touched) {
            <span class="form-error">El email no es válido</span>
            }
        </div>

        <button type="submit" class="form-submit" [disabled]="userEditForm.invalid">{{title}}</button>
    </form>
</div>